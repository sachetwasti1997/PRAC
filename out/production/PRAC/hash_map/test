class Solution {
  fun sumEvenAfterQueries(nums: IntArray, queries: Array<IntArray>): IntArray {
    val even = HashMap<Int, Int>(nums.size)
    var evn_sm = 0
    for (i in nums.indices) {
      if (nums[i] % 2 == 0) {
        even[i] = nums[i]
        evn_sm += nums[i]
      }
    }
    val res = IntArray(nums.size)
    var k = 0
    for (i in queries) {
      if ((nums[i[1]] + i[0]) % 2 == 0) {
        if (i[1] !in even) {
          nums[i[1]] += i[0]
          evn_sm += nums[i[1]]
        }else {
          evn_sm += i[0]
          nums[i[1]] += i[0]
        }
        even[i[1]] = nums[i[1]]
      }else if ((nums[i[1]] + i[0]) % 2 != 0) {
        if (i[1] in even) {
          even.remove(i[1])
          evn_sm -= nums[i[1]]
        }
        nums[i[1]] += i[0]
      }
      res[k++] = evn_sm
    }
    return res
  }
}